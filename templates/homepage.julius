$(document).ready(function() {

    function onDataReceived(series) {

        var bytesLayout = {
            barmode: 'group',
            xaxis: {
                exponentformat: 'SI',
                rangemode: 'nonnegative',
                title: 'Size'
            },
            yaxis: {
                rangemode: 'nonnegative',
                title: 'File count'
            }
        }
        var folderLayout = {
            barmode: 'group',
            xaxis: {
                type: 'log',
                exponentformat: 'SI',
                rangemode: 'nonnegative',
                title: 'Size'
            },
            yaxis: {
                type: 'log',
                rangemode: 'nonnegative',
                title: 'File count'
            }
        }
        Plotly.newPlot('bytesChart', series.global, bytesLayout);
        Plotly.newPlot('folderChart', series.folders, folderLayout);
    }

    $.ajax({
        url: "@{HomeR}",
        type: "GET",
        dataType: "json",
        success: onDataReceived
    });
});
